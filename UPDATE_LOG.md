<!-- markdownlint-disable MD024 -->

# 更新记录 / Change Log

> 最后更新: 2025-12-15

本文件由 AI 自动维护。请不要手动更改历史记录内容。

---

## 历史更新记录（AI 插入从此处开始）

## [v0.6.0] - 2025-12-15

### 🚀 重大更新

**更新者**: Claude

- 使用 embed-pdf-viewer 替换原生 iframe，实现自定义 PDF 查看器

### ✨ 新增功能

- 新增 PDF 查看器组件（PdfViewer.vue），支持更丰富的交互功能
- 新增 Chrome 风格工具栏（PdfToolbar.vue），包含以下功能：
  - 缩略图侧边栏切换按钮
  - 缩放控制（放大/缩小/百分比显示）
  - 适应模式切换（适合一页/适合页面宽度）
  - 打印按钮（调用浏览器原生打印对话框）
  - 下载按钮（导出 PDF 文件）
- 新增可收起的缩略图侧边栏，支持快速页面导航

### 🔧 技术改进

- 集成 @embedpdf/core、@embedpdf/engines 等核心包
- 集成 @embedpdf/plugin-zoom、@embedpdf/plugin-thumbnail、@embedpdf/plugin-print、@embedpdf/plugin-export 等功能插件
- 工具栏按钮点击后自动移除焦点，优化用户体验

## [v0.5.3] - 2025-12-12

### 🚀 重大更新

**更新者**: gpt-5.1-codex-max-low

- PWA 基础集成：启用 manifest 与自动注册的 Service Worker，支持安装与自动更新。

### ✨ 新增功能

- 支持浏览器安装为桌面/移动独立应用，提供多尺寸圆角图标与 favicon。

### 🔧 技术改进

- 引入 `vite-plugin-pwa` 配置，统一生成 manifest 与缓存策略；`registerSW` 支持即时更新。
- 统一 `theme_color` / `background_color` 与 meta 配置，保证安装外观一致性。

### 🎨 界面优化

- PWA 模式下头部添加浅色分割线，弱化与系统菜单栏的衔接。
- 更新站点图标为圆角版，并生成 PWA 多尺寸图标。

## [v0.5.2] - 2025-11-21

### 🚀 重大更新

**更新者**: Antigravity

### ✨ 新增功能

#### 批量删除功能

- **批量选择**: 支持标记多个发票进行批量删除
- **批量操作栏**: 新增批量操作 UI,显示选择数量和操作按钮
- **操作确认**: 提供取消和确认删除两种操作,避免误删
- **视觉反馈**: 标记删除的发票显示红色半透明背景

### 🔧 技术改进

- **组件化**: 新增 `BatchActionBar` 组件,提升代码可维护性
- **类型定义**: 优化 `InvoiceList` 组件的 props 类型定义

### 🎨 界面优化

- **操作栏位置**: 批量操作栏嵌入发票明细区域,更贴近操作对象
- **视觉效果**: 渐变背景和图标增强,提升视觉层次感
- **动画优化**: 流畅的滑入滑出动画,提升交互体验

## [v0.5.0] - 2025-11-21

### 🚀 重大更新

**更新者**: Antigravity

### ✨ 新增功能

#### 移动端全面适配

- **响应式布局**: 实现移动端专属布局，优化屏幕空间利用率
- **原生预览支持**: 移动端新增"预览合并结果"按钮，支持在新窗口打开 PDF
- **交互优化**: 针对触摸操作优化按钮尺寸和点击区域

#### 交互体验升级

- **动态操作引导**: "选择发票"按钮根据状态动态切换为"继续添加"
- **便捷上传**: 拖拽区域支持点击选择文件，提升操作便利性

### 🔧 技术改进

- **Header 重构**: 采用 Left-Center-Right 布局，实现 PC/移动端完美适配
- **组件拆分**: 抽离 `InvoiceList` 组件，提升代码可维护性
- **样式系统**: 全面采用 Tailwind CSS 响应式断点系统

### 🐛 问题修复

- **PC 布局修复**: 修正 Header 按钮在 PC 端未居中的问题
- **逻辑缺陷修复**: 修复删除最后一张发票时触发的合并错误
- **访问限制移除**: 移除移动端访问阻断逻辑，允许全平台访问

### 📊 效果提升

- **视觉降噪**: 简化统计信息显示，仅保留核心数据
- **界面现代化**: 优化列表样式和空状态设计，提升整体质感

## [v0.4.1] - 2025-07-17

### 🚀 重大更新

**更新者**: Kiro AI Assistant

### ✨ 新增功能

#### 智能PDF布局算法

- **自动检测内容边界**: 实现智能边界识别，替代手动缩放计算
- **智能缩放和定位**: 根据PDF内容特征自动调整最佳显示比例和位置

#### 增强信息提取

- **多重提取策略**: 集成多种信息提取方法，提高识别准确率
- **文本识别支持**: 新增OCR文本识别功能
- **位置感知技术**: 基于内容位置进行精确信息定位

#### 自动内容补全

- **智能提取发票号码**: 自动识别和提取发票编号信息
- **日期信息提取**: 智能识别多种日期格式
- **金额信息提取**: 自动提取发票金额等关键财务信息

#### 自适应布局优化

- **发票特征识别**: 根据不同发票类型动态调整显示策略
- **动态显示效果**: 实时优化布局以适应不同发票格式

#### 多格式兼容

- **多种日期格式**: 支持年月日、横线分隔、斜线分隔等格式
- **发票类型识别**: 兼容增值税专用发票、普通发票等多种类型

### 🔧 技术改进

- **算法优化**: 从静态布局升级为智能自适应算法
- **识别精度提升**: 多重策略确保信息提取的准确性和完整性
- **兼容性增强**: 扩展对不同发票格式和标准的支持范围

### 📊 效果提升

- **识别准确率**: 通过多重提取策略显著提高信息识别成功率
- **用户体验**: 自动化处理减少手动操作，提升使用便利性
- **显示质量**: 智能布局算法优化不同尺寸发票的显示效果
