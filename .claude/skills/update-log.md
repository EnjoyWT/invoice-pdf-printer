---
name: update-log
description: 更新 UPDATE_LOG.md 日志文件，当需要记录版本更新时使用
---

# 更新记录规则

## 默认更新目标

- `UPDATE_LOG.md` 是默认更新的目标文档

## 格式规范

- **版本段格式**: `## [版本号] - 日期`（如 `## [v1.2.0] - 2025-07-17`）
- **插入位置**: 新记录插入在 `## 历史更新记录（AI 插入从此处开始）` 段之后第一行
- **记录倒序**: 最新版本在最前面
- **字段结构**（每项可选，顺序如下）：
  - 重大更新
  - 新增功能
  - 技术改进
  - 问题修复
  - 效果提升
  - 文档更新
- **更新者标记**: 在重大更新段下添加 `**更新者**: [当前 AI 名称]`（例如 Claude, Gemini 等）
- **日期格式**: `YYYY-MM-DD`
- **版本号格式**: 遵循语义化版本 `vX.Y.Z`

## 内容要求

- **表达严谨**：描述应客观准确，避免主观词汇和模糊措辞（如"优化了很多"、"修复了一些问题"等）
- **简洁明了**：每一条记录应简洁，不堆砌无关信息或重复描述
- **覆盖所有要点**：更新日志应全面记录此次版本改动中所有有价值的信息，避免遗漏重要变更
- **分类准确**：每条记录应归类至对应字段（如新增功能、问题修复等），不可混用或遗漏
- **避免注水**：禁止无实际改动却添加更新记录；仅在确有改动时才应记录
- **版本号同步**：更新日志版本号应与 `package.json` 中的版本保持一致

## 执行步骤

当需要更新 UPDATE_LOG.md 时：

1. **确定版本号**:
   - 如果用户指定版本号，使用指定的
   - 如果未指定，基于当前 package.json 版本递增（补丁版本 +0.0.1）

2. **获取当前日期**: 使用 YYYY-MM-DD 格式

3. **读取 UPDATE_LOG.md**: 只需读取前 15 行内容找到插入位置

4. **定位插入点**: 找到 `## 历史更新记录（AI 插入从此处开始）` 行

5. **插入新版本段**: 在该行后添加新的版本记录

6. **更新文件头部**: 修改 `*最后更新: YYYY-MM-DD*` 字段为当前日期

7. **确认更新内容**: 向用户展示添加的内容
