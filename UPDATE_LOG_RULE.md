# 更新记录自动化规则 / UPDATE_LOG_RULE.md

## 默认更新目标

- `UPDATE_LOG.md` 是默认更新的目标文档

## 格式规范

- **版本段格式**: `## [版本号] - 日期`（如 `## [v1.2.0] - 2025-07-17`）
- **插入位置**: 新记录插入在 `## 历史更新记录（AI 插入从此处开始）` 段之后第一行
- **记录倒序**: 最新版本在最前面
- **字段结构**（每项可选，顺序如下）：
  - 技重大更新
  - 新增功能
  - 效技术改进
  - 问题修复
  - 效果提升
  - 文档更新
- **更新者标记**: 在重大更新段下添加 `**更新者**: [当前 AI 名称]`（例如 Antigravity, Gemini 等，谁更新就写谁的名字）
- **日期格式**: `YYYY-MM-DD`
- **版本号格式**: 遵循语义化版本 `vX.Y.Z`

## 内容要求

- **表达严谨**：描述应客观准确，避免主观词汇和模糊措辞（如“优化了很多”、“修复了一些问题”等）。
- **简洁明了**：每一条记录应简洁，不堆砌无关信息或重复描述。
- **覆盖所有要点**：更新日志应全面记录此次版本改动中所有有价值的信息，避免遗漏重要变更。
- **分类准确**：每条记录应归类至对应字段（如新增功能、问题修复等），不可混用或遗漏。
- **避免注水**：禁止无实际改动却添加更新记录；仅在确有改动时才应记录。

## 自动更新行为（供 AI 使用）

当用户要求更新 CHANGELOG 时：

1. **读取本规则文件** 确认格式要求
2. **确定版本号**:
   - 如果用户指定版本号，使用指定的
   - 如果未指定，基于当前最新版本递增（补丁版本 +0.0.1）
3. **获取当前日期**: 使用 YYYY-MM-DD 格式
4. **读取部分内容**: 不需要读取 UPDATE_LOG.md 全部内容，前15行内容即可. 参看下面一条规则
5. **在 UPDATE_LOG.md 中定位插入点**: 找到 `## 历史更新记录（AI 插入从此处开始）` 行
6. **插入新版本段**: 在该行后添加新的版本记录
7. **更新文件头部**: 修改 `*最后更新: YYYY-MM-DD*` 字段为当前日期
8. **确认更新内容**: 向用户展示添加的内容
